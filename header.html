<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow:wght@300;400;500;600;700&family=Gilda+Display&display=swap"
      rel="stylesheet"
    />
  </head>

  <style>
    /* CSS Variables for Theme Colors */
    :root {
      --dark-bg: #222222;
      --accent-color: #ab8a62;
      --text-white: #ffffff;
      --text-light-bg: rgba(255, 255, 255, 0.5);
      --text-dark: #333333;

      /* Fonts */
      --heading-font: "Gilda Display", serif;
      --body-font: "Barlow", sans-serif;

      /* Existing Variables */
      --sunset-gold: #ab8a62;
      --deep-blue: #222222;
      --white: #ffffff;
      --text-light: #ffffff;
      --background-light: #f8f9fa;
      --grey-dark: rgba(255, 255, 255, 0.8);
      --medium-blue: #ab8a62;
      --gold: #ab8a62;
    }
    /* Main header styles */
    .main-header {
      background-color: transparent;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 40;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }

    .main-header.scrolled {
      background-color: #000000 !important; /* Important to override any other styles */
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
    }

    /* Adding this to ensure it's properly visible on mobile */
    @media (max-width: 768px) {
      .main-header.scrolled {
        background-color: #000000 !important;
      }
    }

    .navbar-brand {
      padding: 0.5rem 0;
    }

    .navbar-brand img {
      height: 78px;
      transition: all 0.3s ease;
    }

    .navbar-brand img:hover {
      transform: scale(1.05);
    }

    .navbar-nav .nav-link {
      color: var(
        --text-white
      ); /* Default to white text for transparent header */
      font-family: var(--heading-font);
      font-weight: 400;
      padding: 1rem 1.2rem;
      margin: 0 0.1rem;
      transition: all 0.3s ease;
      position: relative;
      letter-spacing: 0.5px;
    }

    /* Change nav link color to white when header is scrolled */
    .main-header.scrolled .navbar-nav .nav-link {
      color: #ffffff;
    }

    .navbar-nav .nav-link:after {
      content: "";
      position: absolute;
      width: 0;
      height: 3px;
      background-color: var(
        --accent-color
      ); /* Default underline color for transparent header */
      bottom: 0.5rem;
      left: 50%;
      transform: translateX(-50%);
      transition: width 0.3s ease, background-color 0.3s ease;
    }

    /* Change underline color when header has background */
    .main-header.scrolled .navbar-nav .nav-link:after {
      background-color: var(--accent-color);
    }

    .navbar-nav .nav-link:hover:after,
    .navbar-nav .nav-link.active:after,
    .navbar-nav .nav-link[data-path="{{ url()->current() }}"]:after {
      width: 70%;
    }

    /* Default hover/active state for transparent header */
    .navbar-nav .nav-link:hover,
    .navbar-nav .nav-link.active,
    .navbar-nav .nav-link[data-path="{{ url()->current() }}"] {
      color: var(--accent-color);
    }

    /* Hover/active state when header has background */
    .main-header.scrolled .navbar-nav .nav-link:hover,
    .main-header.scrolled .navbar-nav .nav-link.active,
    .main-header.scrolled
      .navbar-nav
      .nav-link[data-path="{{ url()->current() }}"] {
      color: var(--accent-color);
    }

    .dropdown-menu {
      border: none;
      border-radius: 8px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      padding: 0.8rem 0;
      margin-top: 0.5rem;
      border-top: 3px solid var(--accent-color);
    }

    .dropdown-item {
      color: var(--text-dark);
      font-weight: 600;
      padding: 0.7rem 1.5rem;
      transition: all 0.2s ease;
    }

    .dropdown-item:hover {
      background-color: rgba(171, 138, 98, 0.1);
      color: var(--accent-color);
      padding-left: 1.8rem;
    }

    .btn-availability {
      background-color: var(--accent-color);
      color: var(--text-light);
      font-weight: 700;
      border-radius: 700px;
      padding: 10px 25px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(171, 138, 98, 0.3);
      border: 2px solid var(--accent-color);
      display: inline-block;
      text-decoration: none;
      font-family: var(--body-font);
    }

    .btn-availability:hover {
      background-color: var(--dark-bg);
      color: var(--text-white);
      border-color: var(--dark-bg);
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
      text-decoration: none;
    }

    .navbar-toggler {
      border-color: var(--accent-color);
      padding: 0.4rem 0.7rem;
    }

    .navbar-toggler:focus {
      box-shadow: 0 0 0 3px rgba(171, 138, 98, 0.25);
    }

    @media (max-width: 991px) {
      .navbar-nav .nav-link {
        padding: 0.8rem 1rem;
      }

      .navbar-nav .nav-link:after {
        bottom: 0.3rem;
        background-color: #e5e3dc;
      }

      .nav-item.ms-lg-3 {
        margin-top: 1rem !important;
        margin-bottom: 1rem;
      }

      .btn-availability {
        display: block;
        text-align: center;
      }
    }

    /* Mobile menu styles */
    .mobile-menu {
      display: none;
      animation: fadeIn 0.3s ease-in-out;
      position: fixed;
      top: 78px;
      left: 0;
      width: 100%;
      background: #000000;
      z-index: 50;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      border-top: 2px solid var(--accent-color);
    }

    .mobile-menu.show {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .mobile-nav-link {
      color: var(--text-white);
      font-family: var(--heading-font);
      font-weight: 500;
      padding: 0.75rem 1rem;
      display: block;
      transition: all 0.3s ease;
    }

    .mobile-nav-link:hover {
      color: var(--accent-color);
      background-color: rgba(171, 138, 98, 0.05);
      padding-left: 1.25rem;
    }

    .mobile-nav-link.active {
      color: var(--accent-color);
      font-weight: 700;
    }

    .mobile-nav-link.active i {
      color: var(--accent-color);
      font-weight: bold;
    }

    .mobile-social-icon {
      color: var(--accent-color);
      font-size: 1.25rem;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background-color: rgba(171, 138, 98, 0.1);
      transition: all 0.3s ease;
    }

    .mobile-social-icon:hover {
      color: white;
      background-color: var(--accent-color);
      transform: translateY(-2px);
    }

    /* Responsive styles */
    @media (min-width: 768px) {
      .navbar-brand img {
        max-height: 70px;
      }
    }

    @media (min-width: 992px) {
      .navbar-brand img {
        max-height: 95px;
      }
    }

    @media (max-width: 767px) {
      .navbar-brand img {
        height: 50px;
      }

      /* Ensure all text and icons in mobile view use the theme color */
      .mobile-menu i,
      .mobile-menu p,
      .mobile-menu span {
        color: var(--text-white);
      }

      /* Enhance active items with theme color */
      .navbar-nav .nav-item.active a {
        color: var(--accent-color) !important;
      }

      /* Add subtle ripple effect to mobile menu items */
      .mobile-nav-link {
        position: relative;
        overflow: hidden;
      }

      .mobile-nav-link i {
        color: var(--accent-color);
      }

      .mobile-nav-link::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100%;
        height: 100%;
        background-color: rgba(171, 138, 98, 0.1);
        opacity: 0;
        transform: translate(-50%, -50%) scale(0);
        border-radius: 50%;
        transition: transform 0.5s, opacity 0.3s;
      }

      .mobile-nav-link:active::after {
        transform: translate(-50%, -50%) scale(2);
        opacity: 1;
        transition: transform 0s;
      }

      .btn-availability {
        width: 90%;
        font-size: 0.9rem;
        box-shadow: 0 2px 4px rgba(171, 138, 98, 0.3);
        font-weight: 600;
        letter-spacing: 0.5px;
      }

      .btn-availability:hover {
        box-shadow: 0 4px 8px rgba(171, 138, 98, 0.4);
        transform: translateY(-2px);
      }
    }

    @media (min-width: 768px) and (max-width: 991px) {
      .navbar-brand img {
        height: 60px;
      }

      .navbar-nav .nav-link {
        padding: 0.8rem 0.8rem;
        font-size: 0.9rem;
      }
    }

    @media (min-width: 992px) {
      .navbar-brand img {
        height: 78px;
      }
    }
  </style>
  <body>
    <!-- Header/Navbar -->
    <div class="main-header">
      <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light px-0">
          <a class="navbar-brand d-flex align-items-center" href="/">
            <img
              src="/43823-companyLogo.webp"
              alt="Ocean View Oahu Logo"
              class=""
            />
          </a>
          <button
            class="navbar-toggler"
            type="button"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <!-- Navigation links on the left -->
            <ul class="navbar-nav mx-auto">
              <li class="nav-item">
                <a class="nav-link" href="/" data-path="/">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/properties" data-path="/properties"
                  >Properties</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/car-rentals" data-path="/car-rentals"
                  >Car Rentals</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/attractions" data-path="/attractions"
                  >Attractions</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/contact-us" data-path="/contact-us"
                  >Contact Us</a
                >
              </li>
            </ul>

            <!-- Book Now button on the right -->
            <div class="d-flex">
              <a href="/properties" class="btn btn-availability">Book Now</a>
            </div>
          </div>
        </nav>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
      <div class="container py-2">
        <ul class="list-unstyled mb-0">
          <li>
            <a class="mobile-nav-link" href="/" data-path="/"
              ><i class="fas fa-home me-2"></i> Home</a
            >
          </li>
          <li>
            <a
              class="mobile-nav-link"
              href="/properties"
              data-path="/properties"
              ><i class="fas fa-building me-2"></i> Properties</a
            >
          </li>
          <li>
            <a
              class="mobile-nav-link"
              href="/car-rentals"
              data-path="/car-rentals"
              ><i class="fas fa-car me-2"></i> Car Rentals</a
            >
          </li>
          <li>
            <a
              class="mobile-nav-link"
              href="/attractions"
              data-path="/attractions"
              ><i class="fas fa-map-marker-alt me-2"></i> Attractions</a
            >
          </li>
          <li>
            <a
              class="mobile-nav-link"
              href="/contact-us"
              data-path="/contact-us"
              ><i class="fas fa-envelope me-2"></i> Contact Us</a
            >
          </li>
          <li class="mt-3">
            <a class="btn btn-availability w-100" href="/properties"
              >Book Now</a
            >
          </li>
        </ul>
      </div>
    </div>

    <script>
      // Make this function available globally so it can be called from the main page
      function initializeHeader() {
        // Mobile menu functionality
        const navbarToggler = document.querySelector(".navbar-toggler");
        const mobileMenu = document.getElementById("mobileMenu");
        let mobileMenuOpen = false;

        // Header scroll effect functionality
        const header = document.querySelector(".main-header");

        function handleScroll() {
          console.log("Scroll detected, window.scrollY:", window.scrollY);
          if (window.scrollY > 50) {
            header.classList.add("scrolled");
            console.log("Added scrolled class");
          } else {
            header.classList.remove("scrolled");
            console.log("Removed scrolled class");
          }
        }

        // Initial check in case page is loaded already scrolled
        handleScroll();

        // Add scroll event listener
        window.removeEventListener("scroll", handleScroll); // Remove any existing listener first
        window.addEventListener("scroll", handleScroll);

        function toggleMobileMenu() {
          if (!mobileMenu) return; // Safety check

          mobileMenuOpen = !mobileMenuOpen;
          if (mobileMenuOpen) {
            mobileMenu.classList.add("show");
          } else {
            mobileMenu.classList.remove("show");
          }
        }

        if (navbarToggler) {
          navbarToggler.addEventListener("click", toggleMobileMenu);
        }

        // Close mobile menu when screen size increases to desktop
        window.addEventListener("resize", function () {
          if (window.innerWidth >= 992 && mobileMenuOpen && mobileMenu) {
            mobileMenuOpen = false;
            mobileMenu.classList.remove("show");
          }
        });

        // Highlight current page in navigation
        const currentPath = window.location.pathname;

        // Desktop navigation
        document.querySelectorAll(".navbar-nav .nav-link").forEach((link) => {
          const linkPath = link.getAttribute("data-path");
          if (
            linkPath &&
            (linkPath === currentPath || currentPath.startsWith(linkPath + "/"))
          ) {
            link.classList.add("active");
          }
        });

        // Mobile navigation
        document.querySelectorAll(".mobile-nav-link").forEach((link) => {
          const linkPath = link.getAttribute("data-path");
          if (
            linkPath &&
            (linkPath === currentPath || currentPath.startsWith(linkPath + "/"))
          ) {
            link.classList.add("active");
          }
        });

        // Add smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            const href = this.getAttribute("href");
            if (href === "#") return; // Skip empty anchors

            e.preventDefault();
            const target = document.querySelector(href);
            if (target) {
              target.scrollIntoView({
                behavior: "smooth",
              });

              // Close mobile menu if open
              if (mobileMenuOpen && mobileMenu) {
                mobileMenuOpen = false;
                mobileMenu.classList.remove("show");
              }
            }
          });
        });

        // Add click event listener to mobile nav links to close menu when clicked
        document.querySelectorAll(".mobile-nav-link").forEach((link) => {
          link.addEventListener("click", function () {
            if (mobileMenu && mobileMenuOpen) {
              mobileMenuOpen = false;
              mobileMenu.classList.remove("show");
            }
          });
        });
      }

      // Call the initialization function when the DOM is loaded
      document.addEventListener("DOMContentLoaded", initializeHeader);

      // Also expose the function globally so it can be called after dynamic loading
      window.initializeHeader = initializeHeader;
    </script>
  </body>
</html>
